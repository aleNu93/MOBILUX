<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MOBILUX.Pages.LoginPage"
    BackgroundColor="{StaticResource Brown50}">

    <Grid>

        <!-- Background image -->
        <Image Source="loginbackground.png"
               Aspect="AspectFill"
               Opacity="0.95" />

        <!-- Soft overlay to improve readability -->
        <BoxView Color="{StaticResource Brown50}"
                 Opacity="0.70" />

        <!-- Content -->
        <Grid Padding="24"
              RowDefinitions="*,Auto">

            <!-- Card -->
            <Frame Grid.Row="0"
                   Style="{StaticResource CardFrame}"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   WidthRequest="720"
                   MaximumWidthRequest="720">

                <Grid ColumnDefinitions="0.9*,1.1*"
                      ColumnSpacing="18">

                    <!-- Left: Brand -->
                    <VerticalStackLayout Grid.Column="0"
                                         Spacing="10"
                                         HorizontalOptions="Center"
                                         VerticalOptions="Center">

                        <Image Source="mobilelogo.png"
                               Aspect="AspectFit"
                               WidthRequest="220"
                               HeightRequest="220" />

                        <Label Text="MOBILUX"
                               Style="{StaticResource TitleLabel}"
                               HorizontalTextAlignment="Center" />

                        <Label Text="Fine furniture payments tracker"
                               Style="{StaticResource BodyLabel}"
                               HorizontalTextAlignment="Center" />
                    </VerticalStackLayout>

                    <!-- Right: Inputs -->
                    <VerticalStackLayout Grid.Column="1"
                                         Spacing="12"
                                         VerticalOptions="Center">

                        <Label Text="Sign in"
                               Style="{StaticResource SubtitleLabel}" />

                        <Label Text="Username"
                               Style="{StaticResource FieldLabel}" />

                        <Entry Placeholder="Enter your username"
                               Style="{StaticResource InputEntry}" />

                        <Label Text="Password"
                               Style="{StaticResource FieldLabel}" />

                        <Entry Placeholder="Enter your password"
                               IsPassword="True"
                               Style="{StaticResource InputEntry}" />

                        <Button Text="Login"
                                Style="{StaticResource PrimaryButton}"
                                Margin="0,12,0,0"
                                Clicked="OnLoginClicked" />
                    </VerticalStackLayout>

                </Grid>
            </Frame>

            <!-- Links -->
            <VerticalStackLayout Grid.Row="1"
                                 Spacing="6"
                                 HorizontalOptions="Center"
                                 Margin="0,18,0,0">

                <Label HorizontalTextAlignment="Center">
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Forgot your password? " />
                            <Span Text="Click here to recover"
                                  TextColor="{StaticResource Brown600}"
                                  FontAttributes="Bold"
                                  TextDecorations="Underline">
                                <Span.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnRecoverTapped" />
                                </Span.GestureRecognizers>
                            </Span>
                        </FormattedString>
                    </Label.FormattedText>
                </Label>

                <Label HorizontalTextAlignment="Center">
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Donâ€™t have an account? " />
                            <Span Text="Register here"
                                  TextColor="{StaticResource Brown600}"
                                  FontAttributes="Bold"
                                  TextDecorations="Underline">
                                <Span.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnRegisterTapped" />
                                </Span.GestureRecognizers>
                            </Span>
                        </FormattedString>
                    </Label.FormattedText>
                </Label>

            </VerticalStackLayout>

        </Grid>
    </Grid>
</ContentPage>
